<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.0.0rc1" />
<title>Ccache news</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Ccache news</h1>
<span id="revnumber">version 4.2.1</span>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_ccache_4_2_1">Ccache 4.2.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2021-03-27</p></div>
<div class="sect2">
<h3 id="_bug_fixes">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Ccache now only <code>dup2`s stderr into `$UNCACHED_ERR_FD</code> for calls to the
  preprocessor/compiler. This works around a complex bug in interaction with GNU
  Make, LTO linking and the Linux PTY driver.
</p>
</li>
<li>
<p>
Fixed detection of color diagnostics usage when using <code>-Xclang
  -fcolordiagnostics</code> options.
</p>
</li>
<li>
<p>
The <code>-frecord-gcc-switches</code> compiler option is now handled correctly to avoid
  false positive cache hits.
</p>
</li>
<li>
<p>
Made it possible for per-compilation debug log files to be written in most
  argument processing error scenarios. Previously, ccache would only write debug
  log files if the argument processing phase was successful.
</p>
</li>
<li>
<p>
Made ccache bail out on too hard Clang option <code>-gen-cdb-fragment-path</code>.
</p>
</li>
<li>
<p>
The <code>run_second_cpp</code> made is now enforced on macOS if <code>-g</code> is used since newer
  Clang versions on macOS produce different debug information when compiling
  preprocessed code.
</p>
</li>
<li>
<p>
Made ccache only reject <code>-f(no-)color-diagnostics</code> for a known GCC compiler.
  This fixes a problem when using said option with <code>clang++</code> on macOS.
</p>
</li>
<li>
<p>
Implemented a better <code>stat</code>/<code>lstat</code> wrapper function for Windows.
</p>
</li>
<li>
<p>
Fixed a bug where ccache could return stale cache results on Windows.
</p>
</li>
<li>
<p>
Fixed handling of long command lines on Windows.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_portability_and_build_improvements">Portability and build improvements</h3>
<div class="ulist"><ul>
<li>
<p>
Build configuration scripts now probe for atomic increment as well. This fixes
  a linking error on Sparc.
</p>
</li>
<li>
<p>
An existing CMake log message level is now used when warning about not finding
  asciidoc.
</p>
</li>
<li>
<p>
Added support for building ccache with xlclang++ on AIX 7.2.
</p>
</li>
<li>
<p>
Fixed assertion in the "Debug option" test.
</p>
</li>
<li>
<p>
Made build configuration skip using ccache when building with MSVC.
</p>
</li>
<li>
<p>
Upgraded to doctest 2.4.6. This fixes a build error with glibc &gt;= 2.34.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed markup of <code>compiler_type</code> value "other".
</p>
</li>
<li>
<p>
Fixed markup of <code>debug_dir</code> documentation.
</p>
</li>
<li>
<p>
Fixed references to the <code>extra_files_to_hash</code> configuration option.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_4_2">Ccache 4.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2021-02-02</p></div>
<div class="sect2">
<h3 id="_new_features">New features</h3>
<div class="ulist"><ul>
<li>
<p>
Improved calculation of relative paths when using <code>base_dir</code> to also consider
  canonical paths (i.e. paths with dereferenced symlinks) as candidates.
</p>
</li>
<li>
<p>
Added a <code>debug_dir</code> (<code>CCACHE_DEBUGDIR</code>) configuration setting for specifying a
  directory for files written in debug mode.
</p>
</li>
<li>
<p>
Added support for compiler option <code>-x cuda</code>, understood by Clang.
</p>
</li>
<li>
<p>
The value of the <code>SOURCE_DATE_EPOCH</code> variable is now only hashed if it
  potentially affects the output from ccache. This means that ccache now (like
  before version 4.0) will be able to produce cache hits for source code that
  doesn&#8217;t contain <code>__DATE__</code> or <code>__TIME__</code> macros regardless of the value of
  <code>SOURCE_DATE_EPOCH</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_2">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a bug where a non-Clang compiler would silently accept the
  Clang-specific <code>-f(no-)color-diagnostics</code> option when run via ccache. This
  confused feature detection made by e.g. CMake.
</p>
</li>
<li>
<p>
Improved creation of temporary files on Windows. Previously, ccache would in
  practice reuse temporary filenames on said platform resulting in various
  problems with parallel builds.
</p>
</li>
<li>
<p>
Fixed creation of parent directories when creating a lock file on Windows.
</p>
</li>
<li>
<p>
Fixed a race condition related to removal of temporary files.
</p>
</li>
<li>
<p>
Improved calculation of directory name for a Windows-style path.
</p>
</li>
<li>
<p>
A compilation result is now not stored in the cache if an included
  preprocessed header file is too new. This fixes a bug where the content of a
  newly created preprocessed header file could be missing from the hash,
  resulting in a false positive cache hit.
</p>
</li>
<li>
<p>
Fixed calculation of the split DWARF filename for an object filename with zero
  or multiple dots.
</p>
</li>
<li>
<p>
Fixed retrieval of the object file the destination is <code>/dev/null</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_portability_and_build_improvements_2">Portability and build improvements</h3>
<div class="ulist"><ul>
<li>
<p>
Additional compiler flags like <code>-Wextra -Werror</code> are now only added when
  building ccache in developer mode.
</p>
</li>
<li>
<p>
The developer build mode no longer enables <code>-Weverything</code> for Clang.
</p>
</li>
<li>
<p>
<code>_XOPEN_SOURCE</code> is now defined appropriately on FreeBSD to fix missing
  declaration of <code>isascii</code>.
</p>
</li>
<li>
<p>
Improved detection of buildability of BLAKE3 assembler files.
</p>
</li>
<li>
<p>
Disabled build of inode cache code on OSes without
  <code>pthread_mutexattr_setpshared</code>, such as OpenBSD.
</p>
</li>
<li>
<p>
Made static linking the default for a Windows MinGW build.
</p>
</li>
<li>
<p>
Removed legacy fallback replacements of <code>mkstemp</code> and <code>realpath</code>.
</p>
</li>
<li>
<p>
Improved detection of SSE/AVX support.
</p>
</li>
<li>
<p>
Improved detection of support for the AVX2 target attribute.
</p>
</li>
<li>
<p>
Configuration scripts now try to detect and enable BLAKE3&#8217;s Neon support.
</p>
</li>
<li>
<p>
Made it possible to run the integration test suite on macOS.
</p>
</li>
<li>
<p>
Fixed building of 32-bit unit tests on macOS.
</p>
</li>
<li>
<p>
Made it possible to compile ccache for C++17.
</p>
</li>
<li>
<p>
Fixed printing of 64-bit <code>time_t</code> on 32-bit architectures like RISCV32.
</p>
</li>
<li>
<p>
Made sure to only use ASCII characters in the manual&#8217;s AsciiDoc source code to
  make it possible to generate documentation in non-UTF8 locales.
</p>
</li>
<li>
<p>
Upgraded to optional-lite 3.4.0, fmt 7.1.3, doctest 2.4.4 and zstd 1.4.8.
</p>
</li>
<li>
<p>
Took steps towards being able to run the test suite on Windows.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_documentation_2">Documentation</h3>
<div class="ulist"><ul>
<li>
<p>
Improved wording of <code>compiler_check</code> string values.
</p>
</li>
<li>
<p>
Improved documentation of compression levels and the <code>-X/--recompress</code> option.
</p>
</li>
<li>
<p>
Improved consistency of terms in the manual.
</p>
</li>
<li>
<p>
HTML documentation is now built and installed by default if possible.
</p>
</li>
<li>
<p>
Fixed incorrect documentation of configuration option <code>cache_dir</code>.
</p>
</li>
<li>
<p>
Added hint on how to link statically with libzstd.
</p>
</li>
<li>
<p>
Mention that ccache requires the <code>-c</code> compiler option.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_4_1">Ccache 4.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-11-22</p></div>
<div class="sect2">
<h3 id="_new_features_2">New features</h3>
<div class="ulist"><ul>
<li>
<p>
Symlinks are now followed when guessing the compiler. This makes ccache able
  to guess compiler type “GCC” for a common symlink chain like this:
  <code>/usr/bin/cc</code> → <code>/etc/alternatives/cc</code> → <code>/usr/bin/gcc</code> → <code>gcc-9</code> →
  <code>x86_64-linux-gnu-gcc-9</code>.
</p>
</li>
<li>
<p>
Added a new <code>compiler_type</code> (<code>CCACHE_COMPILERTYPE</code>) configuration option that
  allows for overriding the guessed compiler type.
</p>
</li>
<li>
<p>
Added support for caching compilations with <code>-fsyntax-only</code>.
</p>
</li>
<li>
<p>
Added a command line option <code>--config-path</code>, which specifies the
  configuration file to operate on. It can be used instead of setting
  <code>CCACHE_CONFIGPATH</code> temporarily.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_3">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The original color diagnostics options are now retained when forcing colored
  output. This fixes a bug where feature detection of the <code>-fcolor-diagnostics</code>
  option would succeed when run via ccache even though the actual compiler
  doesn’t support it (e.g. GCC &lt;4.9).
</p>
</li>
<li>
<p>
Fixed a bug related to umask when using the <code>umask</code> (<code>CCACHE_UMASK</code>)
  configuration option.
</p>
</li>
<li>
<p>
Allow <code>ccache ccache compiler ...</code> (repeated <code>ccache</code>) again.
</p>
</li>
<li>
<p>
Fixed parsing of dependency file in the “depend mode” so that filenames with
  space or other special characters are handled correctly.
</p>
</li>
<li>
<p>
Fixed rewriting of the dependency file content when the object filename
  includes space or other special characters.
</p>
</li>
<li>
<p>
Fixed runtime detection of AVX2 support, not relying on the sometimes broken
  <code>__builtin_cpu_support</code> routine.
</p>
</li>
<li>
<p>
Added missing parameters to a log call, thus avoiding a crash when it is
  found out at runtime that file cloning is unsupported by the OS.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_portability_and_build_fixes">Portability and build fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The ccache binary is now linked with <code>libatomic</code> if needed. This fixes build
  problems with GCC on ARM and PowerPC.
</p>
</li>
<li>
<p>
Fixed build of BLAKE3 code with Clang 3.4 and 3.5.
</p>
</li>
<li>
<p>
Fixed “use of undeclared identifier <em>CLONE_NOOWNERCOPY</em>” build error on macOS
  10.12.
</p>
</li>
<li>
<p>
Fixed build problems related to missing AVX2 and AVX512 support on older
  macOS versions.
</p>
</li>
<li>
<p>
Fixed static linkage with libgcc and libstdc++ for MinGW and made it
  optional.
</p>
</li>
<li>
<p>
Fixed conditional compilation of “robust mutex” code for the inode cache
  routines.
</p>
</li>
<li>
<p>
Fixed badly named man page filename (<code>Ccache.1</code> instead of <code>ccache.1</code>).
</p>
</li>
<li>
<p>
Disabled some tests on ancient Clang versions.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_improvements_and_fixes">Other improvements and fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The man page is now built by default if the required tools are available.
</p>
</li>
<li>
<p>
Use CMake <code>A2X_EXE</code> variable instead of hardcoded <code>a2x</code>.
</p>
</li>
<li>
<p>
Improved build errors when building ccache with very old compiler versions.
</p>
</li>
<li>
<p>
Fall back to version “unknown” when Git is not installed.
</p>
</li>
<li>
<p>
Documented the relationship between <code>CCACHE_DIR</code> and <code>-d/--directory</code>.
</p>
</li>
<li>
<p>
Fixed incorrect reference and bad markup in the manual.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_4_0">Ccache 4.0</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-10-18</p></div>
<div class="sect2">
<h3 id="_summary_of_major_changes">Summary of major changes</h3>
<div class="ulist"><ul>
<li>
<p>
Changed the default cache directory location to follow the XDG base directory
  specification.
</p>
</li>
<li>
<p>
Changed compression algorithm from Deflate (zlib) to Zstandard, enabled by
  default.
</p>
</li>
<li>
<p>
Added functionality for recompressing cache content with a higher compression
  level.
</p>
</li>
<li>
<p>
Changed hash algorithm from MD4 to BLAKE3.
</p>
</li>
<li>
<p>
Added checksumming with XXH3 to detect data corruption.
</p>
</li>
<li>
<p>
Improved cache directory structure.
</p>
</li>
<li>
<p>
Added support for using file cloning (AKA “reflinks”).
</p>
</li>
<li>
<p>
Added an experimental “inode cache” for file hashes.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_compatibility_notes">Compatibility notes</h3>
<div class="ulist"><ul>
<li>
<p>
The default location of the cache directory has changed to follow the XDG
  base directory specification (<a href="#_detailed_functional_changes">more details   below</a>). This means that scripts can no longer assume that the cache
  directory is <code>~/.ccache</code> by default. The <code>CCACHE_DIR</code> environment variable
  still overrides the default location just like before.
</p>
</li>
<li>
<p>
The cache directory structure has changed compared to previous versions
  (<a href="#_detailed_functional_changes">more details below</a>). This means that ccache
  4.0 will not share cache results with earlier versions. It is however safe to
  run ccache 4.0 and earlier versions against the same cache directory: cache
  bookkeeping, statistics and cleanup are backward compatible, with the minor
  exception that some statistics counters incremented by ccache 4.0 won’t be
  visible when running <code>ccache -s</code> with an older version.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_changed_tooling">Changed tooling</h3>
<div class="ulist"><ul>
<li>
<p>
CMake is now used instead of Autoconf for configuration and building.
</p>
</li>
<li>
<p>
A C++11 compiler, a C99 compiler and CMake 3.4.3 or newer are now required to
  build ccache.
</p>
</li>
<li>
<p>
Ccache can now be built using Microsoft Visual C++.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_detailed_functional_changes">Detailed functional changes</h3>
<div class="ulist"><ul>
<li>
<p>
All data of a cached result is now stored in a single file called “result”
  instead of up to seven files. This reduces inode usage and improves data
  locality.
</p>
</li>
<li>
<p>
Added compression of result and manifest files using the
  <a href="http://zstd.net">Zstandard</a> algorithm. Compression is enabled by default with
  compression level 1. This makes ccache able to store more data in the cache.
  Previously compression using Deflate (zlib) was available but disabled by
  default. Files can be recompressed with another compression level later with
  the <code>-X/--recompress</code> option described further below.
</p>
</li>
<li>
<p>
Changed from MD4 to <a href="https://blake3.io">BLAKE3</a> for hashing input. This
  improves performance and reduces the risk of hash collisions.
</p>
</li>
<li>
<p>
Added checksumming of result and manifest files using the
  <a href="http://xxhash.com">XXH3</a> algorithm to detect data corruption.
</p>
</li>
<li>
<p>
Ccache now follows the
  <a href="https://specifications.freedesktop.org/basedir-spec/">XDG base directory
  specification</a>. This means that the default cache directory on Unix systems
  is <code>$XDG_CACHE_HOME/ccache</code> (with <code>~/.cache/ccache</code> as the fallback if
  <code>XDG_CACHE_HOME</code> is not set) and the configuration file is
  <code>$XDG_CONFIG_HOME/ccache/ccache.conf</code> (with <code>~/.config/ccache/ccache.conf</code> as
  the fallback). On macOS, the fallbacks are <code>~/Library/Caches/ccache</code> and
  <code>~/Library/Preferences/ccache/ccache.conf</code>. On Windows, the fallbacks are
  <code>%APPDATA%/ccache</code> and <code>%APPDATA%/ccache/ccache.conf</code>. Exception: If the
  legacy <code>~/.ccache</code> directory exists, that directory is used as the default
  cache location and the configuration file is <code>~/.ccache/ccache.conf</code>.
</p>
</li>
<li>
<p>
Cache statistics are now stored in files on cache level 2 to reduce lock
  contention when there are many parallel compilations.
</p>
</li>
<li>
<p>
An appropriate cache directory level structure is now chosen automatically.
  The <code>cache_dir_levels</code> (<code>CCACHE_NLEVELS</code>) configuration option has therefore
  been removed.
</p>
</li>
<li>
<p>
Added an experimental “inode cache” for file hashes, allowing computed hash
  values to be reused both within and between builds. The inode cache is off by
  default but can be enabled by setting <code>inode_cache</code> (<code>CCACHE_INODECACHE</code>) to
  <code>true</code>.
</p>
</li>
<li>
<p>
Added support for using file cloning (AKA “reflinks”) on Btrfs, XFS and APFS
  to copy data to and from the cache very efficiently.
</p>
</li>
<li>
<p>
Two measures have been implemented to make the hard link mode safer:
  hard-linked files are made read-only and inadvertent content changes that
  affect file size are detected.
</p>
</li>
<li>
<p>
Added a command line option <code>-x/--show-compression</code> which shows statistics
  about cache compression.
</p>
</li>
<li>
<p>
Added a command line option <code>-X/--recompress</code> which recompresses the cache
  data with another compression level or makes it uncompressed. If you choose
  to disable compression by default, or choose to use a compression level with
  a low compression ratio, you can recompress the cache with a higher
  compression level after the build or at another time when there are more CPU
  cycles available, for instance every night. Only files that are currently
  compressed with a different level than the wanted level will be recompressed.
</p>
</li>
<li>
<p>
Added a command line option <code>--evict-older-than</code> which removes cache entries
  older than a certain age.
</p>
</li>
<li>
<p>
Added a command line option <code>-d/--directory</code> which specifies a cache
  directory to operate on. It can be used instead of setting <code>CCACHE_DIR</code>
  temporarily.
</p>
</li>
<li>
<p>
A progress bar has been added to show the progress of time-consuming options
  like <code>-c/--cleanup</code>, <code>-C/--clear</code>, <code>--evict-older-than</code>,
  <code>-x/--show-compression</code> and <code>-X/--recompress</code>.
</p>
</li>
<li>
<p>
When supported by the CPU, a SIMD-friendly (using AVX2) algorithm is now used
  to scan input source code for <code>__DATE__</code>, <code>__TIME__</code> and <code>__TIMESTAMP__</code>
  macros. This can decrease the number of CPU cycles for a direct cache hit
  with up to 15% in some cases.
</p>
</li>
<li>
<p>
Some unnecessary <code>stat(2)</code> system calls are now avoided when verifying header
  files.
</p>
</li>
<li>
<p>
Compiler diagnostic messages are now always cached in color. Ccache then
  strips the color codes on the fly when requested explicitly by a command line
  option or when stderr does not refer to a TTY. This allows IDEs and terminals
  to share cached compilation results.
</p>
</li>
<li>
<p>
The configuration option <code>compiler</code> (<code>CCACHE_COMPILER</code>) now always takes
  effect if specified. Previously, the configuration option was only used when
  the compiler specified on the command line was looked up via <code>PATH</code> (i.e.,
  not when an absolute path was specified).
</p>
</li>
<li>
<p>
Added optional logging to syslog if <code>log_file</code> (<code>CCACHE_LOGFILE</code>) is set to
  <code>syslog</code>.
</p>
</li>
<li>
<p>
The compiler option <code>-fmodules</code> is now handled in the “depend mode”. If
  “depend mode” is disabled the option is still considered too hard and ccache
  will fall back to running the compiler.
</p>
</li>
<li>
<p>
Ccache can now cache compilations with coverage notes (<code>.gcno</code> files)
  produced by GCC 9+ in combination with <code>-fprofile-dir=dir</code>.
</p>
</li>
<li>
<p>
<code>realpath(3)</code> is no longer used for normalization when computing relative
  paths. This makes it possible to get cache hits when the source or build
  directory is a symbolic link to an absolute path that includes unstable
  information like build IDs or timestamps.
</p>
</li>
<li>
<p>
Added an <code>ignore_options</code> (<code>CCACHE_IGNOREOPTIONS</code>) configuration option which
  makes it possible to exclude compiler options from the hash.
</p>
</li>
<li>
<p>
Added an <code>absolute_paths_in_stderr</code> (<code>CCACHE_ABSSTDERR</code>) configuration option
  which makes ccache rewrite absolute paths in compiler warnings and errors to
  relative.
</p>
</li>
<li>
<p>
Improved handling of umask. The configured <code>umask</code> (<code>CCACHE_UMASK</code>) is now
  only applied to files and directories in the cache directory. Previously the
  umask was applied to all files produced by ccache and the executed compiler.
</p>
</li>
<li>
<p>
Ccache is now able to share cache entries for different object file names
  when using <code>-MD</code> or <code>-MMD</code>.
</p>
</li>
<li>
<p>
Clang’s <code>-Xclang</code> (used by CMake for precompiled headers),
  <code>-fno-pch-timestamp</code>, <code>-emit-pch</code>, <code>-emit-pth</code> and <code>-include-pth</code> options are
  now understood.
</p>
</li>
<li>
<p>
Added support for the HIP (“C++ Heterogeneous-Compute Interface for
  Portability”) language.
</p>
</li>
<li>
<p>
The manifest format now allows for header files larger than 4 GiB.
</p>
</li>
<li>
<p>
Made it possible to once again cache compilations with <code>__DATE__</code> in the
  source code.
</p>
</li>
<li>
<p>
Added handling of the <code>__TIMESTAMP__</code> macro.
</p>
</li>
<li>
<p>
An absolute input source path is now rewritten to a relative path when using
  <code>base_dir</code>.
</p>
</li>
<li>
<p>
<code>waitpid</code> system calls interrupted by a signal are now handled correctly.
</p>
</li>
<li>
<p>
Made handling of <code>.dwo</code> files and interaction between <code>-gsplit-dwarf</code> and
  other <code>-g*</code> options more robust.
</p>
</li>
<li>
<p>
The “couldn&#8217;t find compiler” statistics counter is no longer incremented when
  ccache exits with a fatal error.
</p>
</li>
<li>
<p>
Failure to run a <code>compiler_check</code> command is no longer a fatal error.
</p>
</li>
<li>
<p>
Added command line options <code>--dump-result</code> and <code>--extract-result</code> for
  inspecting and extracting result files.
</p>
</li>
<li>
<p>
Added a command line option <code>--checksum-file</code> for debugging or evaluating the
  checksum algorithm.
</p>
</li>
<li>
<p>
Improved error message for <code>ccache -o=K=V</code> (trying to set a configuration
  option named <code>=K</code>).
</p>
</li>
<li>
<p>
Made timestamps in statistics files Y2038-proof.
</p>
</li>
<li>
<p>
Removed code for populating a newly created configuration file with max cache
  size and max files values for cache directories created by ccache versions
  older than 3.2 (released 2014).
</p>
</li>
<li>
<p>
Removed knowledge about a top-level <code>stats</code> file created by ccache versions
  older than 3.1 (released 2010).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_improvements">Other improvements</h3>
<div class="ulist"><ul>
<li>
<p>
Improved help text and documentation of command line options.
</p>
</li>
<li>
<p>
Improved documentation of the <code>base_dir</code> configuration option.
</p>
</li>
<li>
<p>
Improved documentation of preprocessor and direct modes.
</p>
</li>
<li>
<p>
Added HTML anchors to configuration options in the manual so that it is
  possible link to a specific option.
</p>
</li>
<li>
<p>
Tweaked placement of “(readonly)” in output of <code>ccache -s</code>.
</p>
</li>
<li>
<p>
Improved visibility of color output from the test suite.
</p>
</li>
<li>
<p>
Fixed a problem when running the test suite with Clang without a libgcov
  library available.
</p>
</li>
<li>
<p>
Fixed test suite problems on macOS.
</p>
</li>
<li>
<p>
Disabled hardlink tests on AFS since it lacks such support.
</p>
</li>
<li>
<p>
Disabled read-only tests on file systems that lack such support.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_12">ccache 3.7.12</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-10-01</p></div>
<div class="sect2">
<h3 id="_bug_fixes_4">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Coverage files (<code>.gcno</code>) produced by GCC 9+ when using <code>-fprofile-dir=dir</code>
  are now handled gracefully by falling back to running the compiler.
</p>
</li>
<li>
<p>
Fixed writing to log file larger than 2 GiB when running ccache compiled in
  32-bit mode.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Improved documentation about sharing a cache on NFS.
</p>
</li>
<li>
<p>
Fixed test case failures with old objdump versions.
</p>
</li>
<li>
<p>
Fixed test case failures with GCC 4.4.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_11">ccache 3.7.11</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-07-21</p></div>
<div class="sect2">
<h3 id="_bug_fixes_5">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Added knowledge about <code>-fprofile-{correction,reorder-functions,values}</code>.
</p>
</li>
<li>
<p>
ccache now handles the Intel compiler option <code>-xCODE</code> (where <code>CODE</code> is a
  processor feature code) correctly.
</p>
</li>
<li>
<p>
Added support for NVCC’s <code>-Werror</code> and <code>--Werror</code> options.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_2">Other</h3>
<div class="ulist"><ul>
<li>
<p>
ccache’s “Directory is not hashed if using -gz[=zlib]” tests are now skipped
  for GCC 6.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_10">ccache 3.7.10</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-06-22</p></div>
<div class="sect2">
<h3 id="_bug_fixes_6">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Improved handling of profiling options. ccache should now work correctly for
  profiling options like <code>-fprofile-{generate,use}[=path]</code> for GCC ≥ 9 and
  Clang as well as <code>-fauto-profile[=path]</code> and the Clang-specific
  <code>-fprofile-instr-{generate,use}[=path]</code> and <code>-fprofile-sample-{use,accurate}</code>
  options.
</p>
</li>
<li>
<p>
ccache now copies files directly from the cache to the destination file
  instead of via a temporary file. This avoids problems when using filenames
  long enough to be near the file system’s filename max limit.
</p>
</li>
<li>
<p>
When the hard-link mode is enabled, ccache now only uses hard links for
  object files, not other files like dependency files. This is because
  compilers unlink object files before writing to them but they don’t do that
  for dependency files, so the latter can become overwritten and therefore
  corrupted in the cache.
</p>
</li>
<li>
<p>
Fixed a glitch related to hard-link mode and an empty cache.
</p>
</li>
<li>
<p>
ccache now supports the ccache.conf file to be a symlink.
</p>
</li>
<li>
<p>
Temporary files are now deleted immediately on signals like SIGTERM and
  SIGINT instead of some time later in a cleanup phase.
</p>
</li>
<li>
<p>
Fixed a bug that affected ccache’s <code>-o/--set-config</code> option for the
  <code>base_dir</code> and <code>cache_dir_levels</code> keys.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_9">ccache 3.7.9</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-03-29</p></div>
<div class="sect2">
<h3 id="_bug_fixes_7">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed replacing of /dev/null when building as root with hard link mode
  enabled and using <code>-o /dev/null</code>.
</p>
</li>
<li>
<p>
Removed incorrect assertion resulting in “ccache: error: Internal error in
  format” when using <code>-fdebug-prefix-map=X=</code> with X equal to <code>$PWD</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_3">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Improved CUDA/NVCC support: Recognize <code>-dc</code> and <code>-x cu</code> options.
</p>
</li>
<li>
<p>
Improved name of temporary file used in NFS-safe unlink.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_8">ccache 3.7.8</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-03-16</p></div>
<div class="sect2">
<h3 id="_bug_fixes_8">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Use <code>$PWD</code> instead of the real CWD (current working directory) when checking
  for CWD in preprocessed output. This fixes a problem when <code>$PWD</code> includes a
  symlink part and the user has set <code>hash_dir = false</code>.
</p>
</li>
<li>
<p>
Rewrote the Windows version of the lockfile routines. This should mitigate
  several problems with the old implementation.
</p>
</li>
<li>
<p>
If <code>localtime_r</code> fails the epoch time is now logged instead of garbage.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_4">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Improved error message when a boolean environment variable has an invalid
  value.
</p>
</li>
<li>
<p>
Improved the regression fix in ccache 3.7.5 related to not passing
  compilation-only options to the preprocessor.
</p>
</li>
<li>
<p>
ccache’s PCH test suite now skips running the tests if it detects broken PCH
  compiler support.
</p>
</li>
<li>
<p>
Fixed unit test failure on Windows.
</p>
</li>
<li>
<p>
Fixed “stringop-truncation” build warning on Windows.
</p>
</li>
<li>
<p>
Improved “x_rename” implementation on Windows.
</p>
</li>
<li>
<p>
Improved removal of temporary file when rewriting absolute paths to relative
  in the dependency file.
</p>
</li>
<li>
<p>
Clarified “include_file_ctime sloppiness” in the Performance section in the
  manual.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_7">ccache 3.7.7</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2020-01-05</p></div>
<div class="sect2">
<h3 id="_bug_fixes_9">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a bug related to object file location in the dependency file (if using
  <code>-MD</code> or <code>-MMD</code> but not <code>-MF</code> and the build directory is not the same as the
  source directory then the object file location in the <code>.d</code> file would become
  incorrect). This fixes regression in ccache 3.7.5 introduced by the bug fix
  related to EDG-based compilers. Note that this removes support for EDG-based
  compilers again. (A better fix for this is planned for ccache 4.0.)
</p>
</li>
<li>
<p>
Removed the unify mode since it has bugs and shortcomings that are non-trivial
  or impossible to fix: it doesn’t work with the direct mode, it doesn’t handle
  C++ raw strings correctly, it can give false cache hits for <code>.incbin</code>
  directives, it’s turned off when using <code>-g</code> and it can make line numbers in
  warning messages and <code>__LINE__</code> macros incorrect.
</p>
</li>
<li>
<p>
mtime and ctime values are now stored in the manifest files only when
  sloppy_file_stat is set. This avoids adding superfluous manifest file entries
  on direct mode cache misses.
</p>
</li>
<li>
<p>
A “Result:” line is now always printed to the log.
</p>
</li>
<li>
<p>
The “cache miss” statistics counter will now be updated for read-only cache
  misses, making it consistent with the cache hit case.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_6">ccache 3.7.6</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-11-17</p></div>
<div class="sect2">
<h3 id="_bug_fixes_10">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The opt-in “file_macro sloppiness” mode has been removed so that the input
  file path now is always included in the direct mode hash. This fixes a bug
  that could result in false cache hits in an edge case when “file_macro
  sloppiness” is enabled and several identical source files include a relative
  header file with the same name but in different directories.
</p>
</li>
<li>
<p>
Statistics files are no longer lost when the filesystem of the cache is full.
</p>
</li>
<li>
<p>
Bail out on too hard Clang option <code>-MJarg</code> (in addition to the previous
  bailout of <code>-MJ arg</code>).
</p>
</li>
<li>
<p>
Properly handle color diagnostics in the depend mode as well.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_5">ccache 3.7.5</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-10-22</p></div>
<div class="sect2">
<h3 id="_new_features_3">New features</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for <code>-MF=arg</code> (with an extra equal sign) as understood by
  EDG-based compilers.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_11">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a regression in 3.7.2 that could result in a warning message instead of
  an error in an edge case related to usage of “-Werror”.
</p>
</li>
<li>
<p>
An implicit <code>-MQ</code> is now passed to the preprocessor only if the object file
  extension is non-standard. This will make it easier to use EDG-based
  compilers (e.g. GHS) which don’t understand <code>-MQ</code>. (This is a bug fix of the
  corresponding improvement implemented in ccache 3.4.)
</p>
</li>
<li>
<p>
ccache now falls back to running the real compiler instead of failing fataly
  if an internal temporary file is missing after compilation.
</p>
</li>
<li>
<p>
Fixed a crash if localtime returns null pointer in localtime_r replacement.
</p>
</li>
<li>
<p>
Fixed header file dependency tracking when building ccache itself.
</p>
</li>
<li>
<p>
Fixed warning during configure in out-of-tree build in developer mode.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_4">ccache 3.7.4</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-09-12</p></div>
<div class="sect2">
<h3 id="_improvements">Improvements</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for the <code>-gz[=type]</code> compiler option (previously ccache would
  think that “-gz” alone would enable debug information, thus potentially
  including the current directory in the hash).
</p>
</li>
<li>
<p>
Added support for converting paths like “/c/users/&#8230;” into relative paths on
  Windows.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_3">ccache 3.7.3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-08-17</p></div>
<div class="sect2">
<h3 id="_bug_fixes_12">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The cache size (which is counted in “used disk blocks”) is now correct on
  filesystems that use more or less disk blocks than conventional filesystems,
  e.g. ecryptfs or btrfs/zfs with transparent compression. This also fixes a
  related problem with ccache’s own test suite when run on such file systems.
</p>
</li>
<li>
<p>
Fixed a regression in 3.7.2 when using the compiler option “-Werror” and then
  “-Wno-error” later on the command line.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_2">ccache 3.7.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-07-19</p></div>
<div class="sect2">
<h3 id="_bug_fixes_13">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The compiler option <code>-gdwarf*</code> no longer forces “run_second_cpp = true”.
</p>
</li>
<li>
<p>
Added verification that the value passed to the <code>-o/--set-config</code> option is
  valid.
</p>
</li>
<li>
<p>
Fixed detection of precompiled headers in the depend mode.
</p>
</li>
<li>
<p>
Bail out on too hard Clang option <code>-ftime-trace</code>.
</p>
</li>
<li>
<p>
ccache now updates the correct stats file when adding/updating manifest
  files. This bug previously made the file and size statistics counters
  incorrect over time.
</p>
</li>
<li>
<p>
Fixed warnings from Clang about unused arguments during preprocessing.
</p>
</li>
<li>
<p>
Unknown manifest versions are now handled gracefully in <code>--dump-manifest</code>.
</p>
</li>
<li>
<p>
Fixed <code>make check</code> with “funny” locales.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_documentation_3">Documentation</h3>
<div class="ulist"><ul>
<li>
<p>
Added a hint about not running <code>autogen.sh</code> when building from a release
  archive.
</p>
</li>
<li>
<p>
Mention that <code>xsltproc</code> is needed when building from the source repository.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7_1">ccache 3.7.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-05-01</p></div>
<div class="sect2">
<h3 id="_changes">Changes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a problem when using the compiler option <code>-MF /dev/null</code>.
</p>
</li>
<li>
<p>
Long commandlines are now handled gracefully on Windows by using the <code>@file</code>
  syntax to avoid hitting the commandline size limit.
</p>
</li>
<li>
<p>
Fixed complaint from GCC 9’s <code>-Werror=format-overflow</code> when compiling ccache
  itself.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_7">ccache 3.7</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-04-23</p></div>
<div class="sect2">
<h3 id="_changes_2">Changes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed crash when the debug mode is enabled and the output file is in a
  non-writable directory, e.g. when the output file is <code>/dev/null</code>.
</p>
</li>
<li>
<p>
Fixed an issue when printing very large log messages to the debug log.
</p>
</li>
<li>
<p>
Fixed bugs related to support for <code>-gsplit-dwarf</code>. Previously ccache could
  produce an incorrect link to the <code>.dwo</code> file in the <code>.o</code> file.
</p>
</li>
<li>
<p>
Compilations with /dev/null as the input file are now cached.
</p>
</li>
<li>
<p>
ccache has learned how to construct the object filename if no <code>-o</code> option is
  given and the source filename does not include a <code>.</code> or ends with a <code>.</code>.
</p>
</li>
<li>
<p>
Fixed a temporary file leak when the depend mode is enabled and the compiler
  produces standard error output.
</p>
</li>
<li>
<p>
Fixed a bug in the depend mode where a manifest hash only could be associated
  with one set of header dependencies.
</p>
</li>
<li>
<p>
Manifest files did not get marked as used on direct cache hits, so the LRU
  cache cleanup would incorrectly remove them eventually. This has been fixed.
</p>
</li>
<li>
<p>
The rewriting of absolute paths into relative paths in the dependency file
  has been enabled in the depend mode as well.
</p>
</li>
<li>
<p>
ccache now ignores unknown keys in configuration files for forward
  compatibility.
</p>
</li>
<li>
<p>
Rearranged command-line options into sections in the help text.
</p>
</li>
<li>
<p>
Documented the previously undocumented <code>--dump-manifest</code> and <code>--hash-file</code>
  options (only useful for debugging ccache itself).
</p>
</li>
<li>
<p>
Added missing documentation for the command-line option <code>-k/--get-config</code>
  added in ccache 3.5.
</p>
</li>
<li>
<p>
Renamed the <code>--print-config</code> command to <code>--show-config</code>.
</p>
</li>
<li>
<p>
Added a new <code>--print-stats</code> command that prints statistics counters in
  machine-parsable (tab-separated) format.
</p>
</li>
<li>
<p>
ccache no longer creates a missing output directory, thus mimicking the
  compiler behavior for <code>-o out/obj.o</code> when “out” doesn’t exist.
</p>
</li>
<li>
<p>
<code>-fdebug-prefix-map=ARG</code>, <code>-ffile-prefix-map=ARG</code> and
  <code>-fmacro-prefix-map=ARG</code> are now included in the hash, but only the part
  before “ARG”. This fixes a bug where compiler feature detection of said flags
  would not work correctly with ccache.
</p>
</li>
<li>
<p>
Bail out on too hard compiler option <code>-gtoggle</code>.
</p>
</li>
<li>
<p>
Bail out on too hard Clang options <code>--analyze</code> and <code>-analyze</code>.
</p>
</li>
<li>
<p>
Improved debug logging of file hashes in depend mode.
</p>
</li>
<li>
<p>
Improved handling of various <code>-g*</code> options. In particular, ccache now
  understands that <code>-g0</code> cancels out previous <code>-g* options</code>.
</p>
</li>
<li>
<p>
Worked around a problem with Automake related to <code>.d</code> files when using the
  hard link mode.
</p>
</li>
<li>
<p>
Added opt-in (at configure time) support for enabling trace logs for
  profiling ccache itself. See <code>doc/DEVELOPER.md</code> in the code tree for more
  information
</p>
</li>
<li>
<p>
Removed support for Fortran 77 again. Some Fortran support was added in
  ccache 3.3, but the implementation did not work when Fortran modules are
  involved.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_6">ccache 3.6</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-01-14</p></div>
<div class="sect2">
<h3 id="_changes_3">Changes</h3>
<div class="ulist"><ul>
<li>
<p>
ccache now has an opt-in “depend mode”. When enabled, ccache never executes
  the preprocessor, which results in much lower cache miss overhead at the
  expense of a lower potential cache hit rate. The depend mode is only possible
  to use when the compiler option <code>-MD</code> or <code>-MMD</code> is used.
</p>
</li>
<li>
<p>
Added support for GCC’s <code>-ffile-prefix-map</code> option. The <code>-fmacro-prefix-map</code>
  option is now also skipped from the hash.
</p>
</li>
<li>
<p>
Added support for multiple <code>-fsanitize-blacklist</code> arguments.
</p>
</li>
<li>
<p>
ccache now includes the environment variables <code>LANG</code>, <code>LC_ALL</code>, <code>LC_CTYPE</code>
  and <code>LC_MESSAGES</code> in the hash since they may affect localization of compiler
  warning messages. Set sloppiness to <code>locale</code> to opt out of this.
</p>
</li>
<li>
<p>
Fixed a problem due to Clang overwriting the output file when compiling an
  assembler file.
</p>
</li>
<li>
<p>
Clarified the manual to explain the reasoning behind the “file_macro”
  sloppiness setting in a better way.
</p>
</li>
<li>
<p>
ccache now handles several levels of nonexistent directories when rewriting
  absolute paths to relative.
</p>
</li>
<li>
<p>
A new sloppiness setting <code>clang_index_store</code> makes ccache skip the Clang
  compiler option <code>-index-store-path</code> and its argument when computing the
  manifest hash. This is useful if you use Xcode, which uses an index store
  path derived from the local project path. Note that the index store won’t be
  updated correctly on cache hits if you enable this option.
</p>
</li>
<li>
<p>
Rename sloppiness <code>no_system_headers</code> to <code>system_headers</code> for consistency
  with other options. <code>no_system_headers</code> can still be used as an
  (undocumented) alias.
</p>
</li>
<li>
<p>
The GCC variables “DEPENDENCIES_OUTPUT” and “SUNPRO_DEPENDENCIES” are now
  supported correctly.
</p>
</li>
<li>
<p>
The algorithm that scans for <code>__DATE_</code> and <code>__TIME__</code> tokens in the hashed
  source code now doesn’t produce false positives for tokens where <code>__DATE__</code>
  or <code>__TIME__</code> is a substring.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_5_1">ccache 3.5.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2019-01-02</p></div>
<div class="sect2">
<h3 id="_changes_4">Changes</h3>
<div class="ulist"><ul>
<li>
<p>
Added missing getopt_long.c source file to release archive.
</p>
</li>
<li>
<p>
Fixed (harmless) compiler warnings when building ccache object files.
</p>
</li>
<li>
<p>
CFLAGS is no longer passed to the linker when linking ccache.
</p>
</li>
<li>
<p>
Improved development mode build flags.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_5">ccache 3.5</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-10-15</p></div>
<div class="sect2">
<h3 id="_changes_5">Changes</h3>
<div class="ulist"><ul>
<li>
<p>
Added a boolean <code>debug</code> (<code>CCACHE_DEBUG</code>) configuration option. When enabled,
  ccache will create per-object debug files that are helpful e.g. when
  debugging unexpected cache misses. See also the new “Cache debugging” section
  in the manual.
</p>
</li>
<li>
<p>
Renamed <code>CCACHE_CC</code> to <code>CCACHE_COMPILER</code> (keeping the former as a deprecated
  alias).
</p>
</li>
<li>
<p>
Added a new command-line option <code>-k/--get-config</code> that prints the value of a
  config key.
</p>
</li>
<li>
<p>
It is now possible to let ccache hash a precomputed checksum file instead of
  the full content of a precompiled header. This can save time for large
  precompiled headers. Note that the build system needs to keep the checksum
  file in sync with the precompiled header for this to work.
</p>
</li>
<li>
<p>
Improved performance substantially when using <code>hash_dir = false</code> on platforms
  like macOS where <code>getcwd()</code> is slow.
</p>
</li>
<li>
<p>
Added “stats updated” timestamp in <code>ccache -s</code> output. This can be useful if
  you wonder whether ccache actually was used for your last build.
</p>
</li>
<li>
<p>
Renamed “stats zero time” to “stats zeroed” and documented it. The counter is
  also now only present in <code>ccache -s</code> output when <code>ccache -z</code> actually has
  been called.
</p>
</li>
<li>
<p>
The content of the <code>-fsanitize-blacklist</code> file is now included in the hash,
  so updates to the file will now correctly result in separate cache entries.
</p>
</li>
<li>
<p>
It’s now possible to opt out of building and installing man pages when
  running <code>make install</code> in the source repository.
</p>
</li>
<li>
<p>
If the compiler type can’t be detected (e.g. if it is named <code>cc</code>), use safer
  defaults that won’t trip up Clang.
</p>
</li>
<li>
<p>
Made the ccache test suite work on FreeBSD.
</p>
</li>
<li>
<p>
Added <code>file_stat_matches_ctime</code> option to disable ctime check if
  <code>file_stat_matches</code> is enabled.
</p>
</li>
<li>
<p>
Made “./configure --without-bundled-zlib” do what’s intended.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_4_3">ccache 3.4.3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-09-02</p></div>
<div class="sect2">
<h3 id="_bug_fixes_14">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a race condition when creating the initial config file in the cache
  directory.
</p>
</li>
<li>
<p>
Bail out on too hard Clang option <code>-MJ</code>.
</p>
</li>
<li>
<p>
Bail out on too hard option <code>-save-temps=obj</code>.
</p>
</li>
<li>
<p>
Handle separate parameter to Clang option <code>-target</code> correctly.
</p>
</li>
<li>
<p>
Upgraded bundled zlib to version 1.2.11.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_4_2">ccache 3.4.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-03-25</p></div>
<div class="sect2">
<h3 id="_bug_fixes_15">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The cleanup algorithm has been fixed to not misbehave when files are removed
  by another process while the cleanup process is running. Previously, too many
  files could be removed from the cache if multiple cleanup processes were
  triggered at the same time, in extreme cases trimming the cache to a much
  smaller size than the configured limits.
</p>
</li>
<li>
<p>
Correctly hash preprocessed headers located in a “.gch directory”.
  Previously, ccache would not pick up changes to such precompiled headers,
  risking false positive cache hits.
</p>
</li>
<li>
<p>
Fixed build failure when using the bundled zlib sources.
</p>
</li>
<li>
<p>
ccache 3.3.5 added a workaround for not triggering Clang errors when a
  precompiled header’s dependency has an updated timestamp (but identical
  content). That workaround is now only applied when the compiler is Clang.
</p>
</li>
<li>
<p>
Made it possible to perform out-of-source builds in dev mode again.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_4_1">ccache 3.4.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-02-11</p></div>
<div class="sect2">
<h3 id="_bug_fixes_16">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed printing of version number in <code>ccache --version</code>.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_4">ccache 3.4</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-02-11</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
The compiler option form <code>--sysroot arg</code> is now handled like the documented
  <code>--sysroot=arg</code> form.
</p>
</li>
<li>
<p>
Added support for caching <code>.su</code> files generated by GCC flag <code>-fstack-usage</code>.
</p>
</li>
<li>
<p>
ccache should now work with distcc’s “pump” wrapper.
</p>
</li>
<li>
<p>
The optional unifier is no longer disabled when the direct mode is enabled.
</p>
</li>
<li>
<p>
Added support for NVCC compiler options <code>--compiler-bindir/-ccbin</code>,
  <code>--output-directory/-odir</code> and <code>--libdevice-directory/-ldir</code>.
</p>
</li>
<li>
<p>
Boolean environment variable settings no longer accept the following
  (case-insensitive) values: <code>0</code>, <code>false</code>, <code>disable</code> and <code>no</code>. All other values
  are accepted and taken to mean “true”. This is to stop users from setting
  e.g. <code>CCACHE_DISABLE=0</code> and then expect the cache to be used.
</p>
</li>
<li>
<p>
Improved support for <code>run_second_cpp = false</code>: If combined with passing
  <code>-fdirectives-only</code> (GCC) or <code>frewrite-includes</code> (Clang) to the compiler,
  diagnostics warnings and similar will be correct.
</p>
</li>
<li>
<p>
An implicit <code>-MQ</code> is now passed to the preprocessor only if the object file
  extension is non-standard. This should make it easier to use EDG-based
  compilers (e.g. GHS) which don’t understand <code>-MQ</code>.
</p>
</li>
<li>
<p>
ccache now treats an unreadable configuration file just like a missing
  configuration file.
</p>
</li>
<li>
<p>
Documented more pitfalls with enabling <code>hard_links</code> (<code>CCACHE_HARDLINK</code>).
</p>
</li>
<li>
<p>
Documented caveats related to colored warnings from compilers.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_17">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
File size and number counters are now updated correctly when files are
  overwritten in the cache, e.g. when using <code>CCACHE_RECACHE</code>.
</p>
</li>
<li>
<p>
<code>run_second_cpp</code> is now forced for NVCC.
</p>
</li>
<li>
<p>
Fixed how the NVCC options <code>-optf</code> and <code>-odir</code> are handled.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3_6">ccache 3.3.6</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-01-28</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_2">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Improved instructions on how to get cache hits between different working
  directories.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_18">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed regression in ccache 3.3.5 related to the <code>UNCACHED_ERR_FD</code> feature.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3_5">ccache 3.3.5</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2018-01-13</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_3">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Documented how automatic cache cleanup works.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_19">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a regression where the original order of debug options could be lost.
  This reverts the “Improved parsing of <code>-g*</code> options” feature in ccache 3.3.
</p>
</li>
<li>
<p>
Multiple <code>-fdebug-prefix-map</code> options should now be handled correctly.
</p>
</li>
<li>
<p>
Fixed matching of directories in the <code>ignore_headers_in_manifest</code>
  configuration option.
</p>
</li>
<li>
<p>
Fixed detection of missing argument to <code>-opt</code>/<code>--options-file</code>.
</p>
</li>
<li>
<p>
ccache now bails out when building a precompiled header if any of the
  corresponding header files has an updated timestamp. This fixes complaints
  from Clang.
</p>
</li>
<li>
<p>
Fixed a bug related to erroneously storing a dependency file with absolute
  paths in the cache on a preprocessed hit.
</p>
</li>
<li>
<p>
<code>ccache -c/--cleanup</code> now works like documented: it just recalculates size
  counters and trims the cache to not exceed the max size and file number
  limits. Previously, the forced cleanup took “limit_multiple” into account, so
  that <code>ccache -c/--cleanup</code> by default would trim the cache to 80% of the max
  limit.
</p>
</li>
<li>
<p>
ccache no longer ignores linker arguments for Clang since Clang warns about
  them.
</p>
</li>
<li>
<p>
Plugged a couple of file descriptor leaks.
</p>
</li>
<li>
<p>
Fixed a bug where ccache would skip hashing the compiler argument following a
  <code>-fno-working-directory</code>, <code>-fworking-directory</code>, <code>-nostdinc</code>, <code>-nostdinc++</code>,
  <code>-remap</code> or <code>-trigraphs</code> option in preprocessor mode.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3_4">ccache 3.3.4</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2017-02-17</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_4">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Documented the different cache statistics counters.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_20">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a regression in ccache 3.3 related to potentially bad content of
  dependency files when compiling identical source code but with different
  source paths. This was only partially fixed in 3.3.2 and reverts the new
  “Names of included files are no longer included in the hash of the compiler’s
  preprocessed output” feature in 3.3.
</p>
</li>
<li>
<p>
Corrected statistics counter for <code>-optf</code>/<code>--options-file</code> failure.
</p>
</li>
<li>
<p>
Fixed undefined behavior warnings in ccache found by <code>-fsanitize=undefined</code>.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3_3">ccache 3.3.3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-10-26</p></div>
<div class="sect2">
<h3 id="_bug_fixes_21">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
ccache now detects usage of <code>.incbin</code> assembler directives in the source code
  and avoids caching such compilations.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3_2">ccache 3.3.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-09-28</p></div>
<div class="sect2">
<h3 id="_bug_fixes_22">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a regression in ccache 3.3 related to potentially bad content of
  dependency files when compiling identical source code but with different
  source paths.
</p>
</li>
<li>
<p>
Fixed a regression in ccache 3.3.1: ccache could get confused when using the
  compiler option <code>-Wp,</code> to pass multiple options to the preprocessor,
  resulting in missing dependency files from direct mode cache hits.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3_1">ccache 3.3.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-09-07</p></div>
<div class="sect2">
<h3 id="_bug_fixes_23">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a problem in the “multiple <code>-arch</code> options” support introduced in 3.3.
  When using the direct mode (the default), different combinations of <code>-arch</code>
  options were not detected properly.
</p>
</li>
<li>
<p>
Fixed an issue when compiler option <code>-Wp,-MT,path</code> is used instead of <code>-MT
  path</code> (and similar for <code>-MF</code>, <code>-MP</code> and <code>-MQ</code>) and <code>run_second_cpp</code>
  (<code>CCACHE_CPP2</code>) is enabled.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_3">ccache 3.3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-08-27</p></div>
<div class="sect2">
<h3 id="_notes">Notes</h3>
<div class="ulist"><ul>
<li>
<p>
A C99-compatible compiler is now required to build ccache.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_5">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
The configuration option <code>run_second_cpp</code> (<code>CCACHE_CPP2</code>) now defaults to
  true. This improves ccache’s out-of-the-box experience for compilers that
  can’t compile their own preprocessed output with the same outcome as if they
  compiled the real source code directly, e.g. newer versions of GCC and Clang.
</p>
</li>
<li>
<p>
The configuration option <code>hash_dir</code> (<code>CCACHE_HASHDIR</code>) now defaults to true.
</p>
</li>
<li>
<p>
Added a new <code>ignore_headers_in_manifest</code> configuration option, which
  specifies headers that should be ignored in the direct mode.
</p>
</li>
<li>
<p>
Added a new <code>prefix_command_cpp</code> (<code>CCACHE_PREFIX_CPP</code>) configuration option,
  which specifies one or several prefixes to add to the command line ccache
  uses when invoking the preprocessor.
</p>
</li>
<li>
<p>
Added a new <code>limit_multiple</code> (<code>CCACHE_LIMIT_MULTIPLE</code>) configuration option,
  which specifies how much of the cache to remove when cleaning.
</p>
</li>
<li>
<p>
Added a new <code>keep_comments_cpp</code> (<code>CCACHE_COMMENTS</code>) configuration option,
  which tells ccache not to discard the comments before hashing preprocessor
  output. This can be used to check documentation with <code>-Wdocumentation</code>.
</p>
</li>
<li>
<p>
Added a new sloppiness option <code>no_system_headers</code>, which tells ccache not to
  include system headers in manifest files.
</p>
</li>
<li>
<p>
Added a new statistics counter that tracks the number of performed cleanups
  due to the cache size being over the limit. The value is shown in the output
  of “ccache -s”.
</p>
</li>
<li>
<p>
Added support for relocating debug info directory using <code>-fdebug-prefix-map</code>.
  This allows for cache hits even when <code>hash_dir</code> is used in combination with
  <code>base_dir</code>.
</p>
</li>
<li>
<p>
Added a new “cache hit rate” field to the output of “ccache -s”.
</p>
</li>
<li>
<p>
Added support for caching compilation of assembler code produced by e.g. “gcc
  -S file.c”.
</p>
</li>
<li>
<p>
Added support for cuda including the -optf/--options-file option.
</p>
</li>
<li>
<p>
Added support for Fortran 77.
</p>
</li>
<li>
<p>
Added support for multiple <code>-arch</code> options to produce “fat binaries”.
</p>
</li>
<li>
<p>
Multiple identical <code>-arch</code> arguments are now handled without bailing.
</p>
</li>
<li>
<p>
The concatenated form of some long compiler options is now recognized, for
  example when using <code>-isystemPATH</code> instead of <code>-isystem PATH</code>.
</p>
</li>
<li>
<p>
If hard-linking is enabled and but fails (e.g. due to cross-device linking),
  ccache now falls back to copying instead of running the compiler.
</p>
</li>
<li>
<p>
Made the <code>hash_dir</code> option only have effect when generating debug info.
</p>
</li>
<li>
<p>
ccache now knows how to convert absolute paths to relative paths inside
  dependency files when using <code>base_dir</code>.
</p>
</li>
<li>
<p>
Improved parsing of <code>-g*</code> options.
</p>
</li>
<li>
<p>
Made ccache understand <code>-Wp,-D*</code> options.
</p>
</li>
<li>
<p>
ccache now understands the undocumented <code>-coverage</code> (only one dash) GCC
  option.
</p>
</li>
<li>
<p>
Names of included files are no longer included in the hash of the compiler’s
  preprocessed output. This leads to more potential cache hits when not using
  the direct mode.
</p>
</li>
<li>
<p>
Increased buffer size used when reading file data. This improves performance
  slightly.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_24">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Bail out on too hard compiler option <code>-P</code>.
</p>
</li>
<li>
<p>
Fixed Clang test suite when running on Linux.
</p>
</li>
<li>
<p>
Fixed build and test for MinGW32 and Windows.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_9">ccache 3.2.9</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-09-28</p></div>
<div class="sect2">
<h3 id="_bug_fixes_25">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a regression in ccache 3.2.8: ccache could get confused when using the
  compiler option <code>-Wp,</code> to pass multiple options to the preprocessor,
  resulting in missing dependency files from direct mode cache hits.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_8">ccache 3.2.8</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-09-07</p></div>
<div class="sect2">
<h3 id="_bug_fixes_26">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed an issue when compiler option <code>-Wp,-MT,path</code> is used instead of <code>-MT
  path</code> (and similar for <code>-MF</code>, <code>-MP</code> and <code>-MQ</code>) and <code>run_second_cpp</code>
  (<code>CCACHE_CPP2</code>) is enabled.
</p>
</li>
<li>
<p>
ccache now understands the undocumented <code>-coverage</code> (only one dash) GCC
  option.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_7">ccache 3.2.7</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-07-20</p></div>
<div class="sect2">
<h3 id="_bug_fixes_27">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a bug which could lead to false cache hits for compiler command lines
  with a missing argument to an option that takes an argument.
</p>
</li>
<li>
<p>
ccache now knows how to work around a glitch in the output of GCC 6’s
  preprocessor.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_6">ccache 3.2.6</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-07-12</p></div>
<div class="sect2">
<h3 id="_bug_fixes_28">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed build problem on QNX, which lacks “SA_RESTART”.
</p>
</li>
<li>
<p>
Bail out on compiler option <code>-fstack-usage</code> since it creates a <code>.su</code> file
  which ccache currently doesn’t handle.
</p>
</li>
<li>
<p>
Fixed a bug where (due to ccache rewriting paths) the compiler could choose
  incorrect include files if <code>CCACHE_BASEDIR</code> is used and the source file path
  is absolute and is a symlink.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_5">ccache 3.2.5</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-04-17</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_6">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Only pass Clang-specific <code>-stdlib=</code> to the preprocessor.
</p>
</li>
<li>
<p>
Improved handling of stale NFS handles.
</p>
</li>
<li>
<p>
Made it harder to misinterpret documentation of boolean environment settings’
  semantics.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_29">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Include m4 files used by configure.ac in the source dist archives.
</p>
</li>
<li>
<p>
Corrected “Performance” section in the manual regarding <code>__DATE_</code>, <code>__TIME__</code>
  and <code>__FILE__</code> macros.
</p>
</li>
<li>
<p>
Fixed build on Solaris 10+ and AIX 7.
</p>
</li>
<li>
<p>
Fixed failure to create directories on QNX.
</p>
</li>
<li>
<p>
Don’t (try to) update manifest file in “read-only” and “read-only direct”
  modes.
</p>
</li>
<li>
<p>
Fixed a bug in caching of <code>stat</code> system calls in “file_stat_matches
  sloppiness mode”.
</p>
</li>
<li>
<p>
Fixed bug in hashing of Clang plugins, leading to unnecessary cache misses.
</p>
</li>
<li>
<p>
Fixed --print-config to show “pch_defines sloppiness”.
</p>
</li>
<li>
<p>
The man page is now built when running “make install” from Git repository
  sources.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_4">ccache 3.2.4</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2015-10-08</p></div>
<div class="sect2">
<h3 id="_bug_fixes_30">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed build error related to zlib on systems with older make versions
  (regression in ccache 3.2.3).
</p>
</li>
<li>
<p>
Made conversion-to-bool explicit to avoid build warnings (and potential
  runtime errors) on legacy systems.
</p>
</li>
<li>
<p>
Improved signal handling: Kill compiler on SIGTERM; wait for compiler to exit
  before exiting; die appropriately.
</p>
</li>
<li>
<p>
Minor fixes related to Windows support.
</p>
</li>
<li>
<p>
The correct compression level is now used if compression is requested.
</p>
</li>
<li>
<p>
Fixed a bug where cache cleanup could be run too early for caches larger than
  64 GiB on 32-bit systems.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_3">ccache 3.2.3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2015-08-16</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_7">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for compiler option <code>-gsplit-dwarf</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_31">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Support external zlib in nonstandard directory.
</p>
</li>
<li>
<p>
Avoid calling <code>exit()</code> inside an exit handler.
</p>
</li>
<li>
<p>
Let exit handler terminate properly.
</p>
</li>
<li>
<p>
Bail out on compiler option <code>--save-temps</code> in addition to <code>-save-temps</code>.
</p>
</li>
<li>
<p>
Only log “Disabling direct mode” once when failing to read potential include
  files.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_2">ccache 3.2.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2015-05-10</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_8">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for <code>CCACHE_COMPILERCHECK=string:&lt;value&gt;</code>. This is a faster
  alternative to <code>CCACHE_COMPILERCHECK=&lt;command&gt;</code> if the command’s output can
  be precalculated by the build system.
</p>
</li>
<li>
<p>
Add support for caching code coverage results (compiling for gcov).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_32">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Made hash of cached result created with and without <code>CCACHE_CPP2</code> different.
  This makes it possible to rebuild with <code>CCACHE_CPP2</code> set without having to
  clear the cache to get new results.
</p>
</li>
<li>
<p>
Don’t try to reset a nonexistent stats file. This avoids “No such file or
  directory” messages in the ccache log when the cache directory doesn’t exist.
</p>
</li>
<li>
<p>
Fixed a bug where ccache deleted Clang diagnostics after compiler failures.
</p>
</li>
<li>
<p>
Avoid performing an unnecessary copy of the object file on a cache miss.
</p>
</li>
<li>
<p>
Bail out on too hard compiler option <code>-fmodules</code>.
</p>
</li>
<li>
<p>
Bail out on too hard compiler option <code>-fplugin=libcc1plugin</code> (interaction
  with GDB).
</p>
</li>
<li>
<p>
Fixed build error when compiling ccache with recent Clang versions.
</p>
</li>
<li>
<p>
Removed signal-unsafe code from signal handler.
</p>
</li>
<li>
<p>
Corrected logic for when to output cached stderr.
</p>
</li>
<li>
<p>
Wipe the whole cached result on failure retrieving a cached file.
</p>
</li>
<li>
<p>
Fixed build error when compiling ccache with recent Clang versions.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2_1">ccache 3.2.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2014-12-10</p></div>
<div class="sect2">
<h3 id="_bug_fixes_33">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed regression in temporary file handling, which lead to incorrect
  permissions for stats, manifest and ccache.conf files in the cache.
</p>
</li>
<li>
<p>
<code>CACHEDIR.TAG</code> files are now created in the [0-9a-f] subdirectories so that
  ccache.conf is not lost in backups.
</p>
</li>
<li>
<p>
Made the default cache size suffix <code>G</code>, as previously documented.
</p>
</li>
<li>
<p>
<code>-fdiagnostics-color=auto</code> is now passed to the compiler even if stderr is
  redirected. This fixes a problem when, for instance, a configure test probes
  if the compiler (wrapped via ccache) supports <code>-fdiagnostics-color=auto</code>.
</p>
</li>
<li>
<p>
Added missing documentation for <code>max_files</code> and <code>max_size</code> configuration
  options.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_2">ccache 3.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2014-11-17</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_9">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for configuring ccache via one or several configuration files
  instead of via environment variables. Environment variables still have
  priority but are no longer the recommended way of customizing ccache
  behavior. See the manual for more information.
</p>
</li>
<li>
<p>
Added support for compiler error/warning messages with color.
</p>
</li>
<li>
<p>
Made creation of temporary directories and cache directories smarter to avoid
  unnecessary <code>stat</code> calls.
</p>
</li>
<li>
<p>
Improved efficiency of the algorithm that scans for <code>__DATE_</code> and <code>__TIME__</code>
  tokens in the hashed source code.
</p>
</li>
<li>
<p>
Added support for several binaries (separated by space) in <code>CCACHE_PREFIX</code>.
</p>
</li>
<li>
<p>
The <code>-c</code> option is no longer passed to the preprocessor. This fixes problems
  with Clang and Solaris’s C++ compiler.
</p>
</li>
<li>
<p>
ccache no longer passes preprocessor options like <code>-D</code> and <code>-I</code> to the
  compiler when compiling preprocessed output. This fixes warnings emitted by
  Clang.
</p>
</li>
<li>
<p>
Compiler options <code>-fprofile-generate</code>, <code>-fprofile-arcs</code>, <code>-fprofile-use</code> and
  <code>-fbranch-probabilities</code> are now handled without bailing.
</p>
</li>
<li>
<p>
Added support for Clang’s <code>--serialize-diagnostic</code> option, storing the
  diagnostic file (<code>.dia</code>) in the cache.
</p>
</li>
<li>
<p>
Added support for precompiled headers when using Clang.
</p>
</li>
<li>
<p>
Added support for Clang <code>.pth</code> (pretokenized header) files.
</p>
</li>
<li>
<p>
Changed the <code>-x</code> language option to use the new objective C standard for GCC
  and Clang.
</p>
</li>
<li>
<p>
On a cache miss, ccache now instructs the compiler to create the object file
  at the real destination and then copies the file into the cache instead of
  the other way around. This is needed to support compiler options like
  <code>-fprofile-arcs</code> and <code>--serialize-diagnostics</code>.
</p>
</li>
<li>
<p>
ccache now checks that included files’ ctimes aren’t too new. This check can
  be turned off by adding <code>include_file_ctime</code> to the “ccache sloppiness”
  setting.
</p>
</li>
<li>
<p>
Added possibility to get cache hits based on filename, size, mtime and ctime
  only. On other words, source code files are not even read, only stat-ed. This
  operation mode is opt-in by adding <code>file_stat_matches</code> to the “ccache
  sloppiness” setting.
</p>
</li>
<li>
<p>
The filename part of options like <code>-Wp,-MDfilename</code> is no longer included in
  the hash since the filename doesn’t have any bearing on the result.
</p>
</li>
<li>
<p>
Added a “read-only direct” configuration setting, which is like the ordinary
  read-only setting except that ccache will only try to retrieve results from
  the cache using the direct mode, not the preprocessor mode.
</p>
</li>
<li>
<p>
The display and interpretation of cache size has been changed to use SI
  units.
</p>
</li>
<li>
<p>
Default cache size is now 5 GB (was previously 1 GiB).
</p>
</li>
<li>
<p>
Added configuration option to set the compression level of compressed object
  files in the cache.
</p>
</li>
<li>
<p>
Added support for <code>@file</code> and <code>-@file</code> arguments (reading options from a
  file).
</p>
</li>
<li>
<p>
<code>-Wl,</code> options are no longer included in the hash since they don’t affect
  compilation.
</p>
</li>
<li>
<p>
Bail out on too hard compiler option <code>-Wp,-P</code>.
</p>
</li>
<li>
<p>
Optimized MD4 calculation code on little-endian systems.
</p>
</li>
<li>
<p>
Various improvements and fixes on win32.
</p>
</li>
<li>
<p>
Improved logging to the ccache log file.
</p>
</li>
<li>
<p>
Added <code>--dump-manifest</code> command-line option for debugging purposes.
</p>
</li>
<li>
<p>
Added <code>--with-bundled-zlib</code> configure option.
</p>
</li>
<li>
<p>
Upgraded bundled zlib to version 1.2.8.
</p>
</li>
<li>
<p>
Improved <code>dev.mk</code> to be more platform independent.
</p>
</li>
<li>
<p>
Made the test suite work with Clang and gcc-llvm on OS X.
</p>
</li>
<li>
<p>
Various other improvements of the test suite.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_34">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Any previous <code>.stderr</code> is now removed from the cache when recaching.
</p>
</li>
<li>
<p>
Fixed an issue when handling the <code>-arch</code> compiler option with an argument.
</p>
</li>
<li>
<p>
Fixed race condition when creating the initial cache directory.
</p>
</li>
<li>
<p>
Fixed test suite failures when <code>CC</code> is a ccache-wrapped compiler.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_12">ccache 3.1.12</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2016-07-12</p></div>
<div class="sect2">
<h3 id="_bug_fixes_35">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed a bug where (due to ccache rewriting paths) the compiler could choose
  incorrect include files if <code>CCACHE_BASEDIR</code> is used and the source file path
  is absolute and is a symlink.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_11">ccache 3.1.11</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2015-03-07</p></div>
<div class="sect2">
<h3 id="_bug_fixes_36">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed bug which could result in false cache hits when source code contains
  <code>'"'</code> followed by <code>" /*"</code> or <code>" //"</code> (with variations).
</p>
</li>
<li>
<p>
Made hash of cached result created with and without <code>CCACHE_CPP2</code> different.
  This makes it possible to rebuild with <code>CCACHE_CPP2</code> set without having to
  clear the cache to get new results.
</p>
</li>
<li>
<p>
Don’t try to reset a nonexistent stats file. This avoids “No such file or
  directory” messages in the ccache log when the cache directory doesn’t exist.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_10">ccache 3.1.10</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2014-10-19</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_10">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for the <code>-Xclang</code> compiler option.
</p>
</li>
<li>
<p>
Improved handling of exit code of internally executed processes.
</p>
</li>
<li>
<p>
Zero length object files in the cache are now rejected as invalid.
</p>
</li>
<li>
<p>
Bail out on option <code>-gsplit-dwarf</code> (since it produces multiple output files).
</p>
</li>
<li>
<p>
Compiler option <code>-fdebug-prefix-map</code> is now ignored (not part of the hash).
  (The <code>-fdebug-prefix-map</code> option may be used in combination with
  <code>CCACHE_BASEDIR</code> to reuse results across different directories.)
</p>
</li>
<li>
<p>
Added note in documentation that <code>--ccache-skip</code> currently does not mean
  “don’t hash the following option”.
</p>
</li>
<li>
<p>
To enable support for precompiled headers (PCH), <code>CCACHE_SLOPPINESS</code> now also
  needs to include the new <code>pch_defines</code> sloppiness. This is because ccache
  can’t detect changes in the source code when only defined macros have been
  changed.
</p>
</li>
<li>
<p>
Stale files in the internal temporary directory (<code>&lt;ccache_dir&gt;/tmp</code>) are now
  cleaned up if they are older than one hour.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_37">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed path canonicalization in <code>make_relative_path()</code> when path doesn’t
  exist.
</p>
</li>
<li>
<p>
Fixed bug in <code>common_dir_prefix_length()</code>. This corrects the <code>CCACHE_BASEDIR</code>
  behavior.
</p>
</li>
<li>
<p>
ccache no longer tries to create the cache directory when <code>CCACHE_DISABLE</code> is
  set.
</p>
</li>
<li>
<p>
Fixed bug when reading manifests with a very large number of file info
  entries.
</p>
</li>
<li>
<p>
Fixed problem with logging of current working directory.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_9">ccache 3.1.9</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2013-01-06</p></div>
<div class="sect2">
<h3 id="_bug_fixes_38">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The EAGAIN signal is now handled correctly when emitting cached stderr
  output. This fixes a problem triggered by large error outputs from the
  compiler.
</p>
</li>
<li>
<p>
Subdirectories in the cache are no longer created in read-only mode.
</p>
</li>
<li>
<p>
Fixed so that ccache’s log file descriptor is not made available to the
  compiler.
</p>
</li>
<li>
<p>
Improved error reporting when failing to create temporary stdout/stderr files
  when executing the compiler.
</p>
</li>
<li>
<p>
Disappearing temporary stdout/stderr files are now handled gracefully.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_5">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed test suite to work on ecryptfs.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_8">ccache 3.1.8</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2012-08-11</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_11">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Made paths to dependency files relative in order to increase cache hits.
</p>
</li>
<li>
<p>
Added work-around to make ccache work with buggy GCC 4.1 when creating a
  pre-compiled header.
</p>
</li>
<li>
<p>
Clang plugins are now hashed to catch plugin upgrades.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_39">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Fixed crash when the current working directory has been removed.
</p>
</li>
<li>
<p>
Fixed crash when stderr is closed.
</p>
</li>
<li>
<p>
Corrected a corner case when parsing backslash escapes in string
  literals.
</p>
</li>
<li>
<p>
Paths are now correctly canonicalized when computing paths relative to the
  base directory.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_6">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Made git version macro work when compiling outside of the source directory.
</p>
</li>
<li>
<p>
Fixed <code>static_assert</code> macro definition clash with GCC 4.7.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_7">ccache 3.1.7</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2012-01-08</p></div>
<div class="sect2">
<h3 id="_bug_fixes_40">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Non-writable <code>CCACHE_DIR</code> is now handled gracefully when <code>CCACHE_READONLY</code> is
  set.
</p>
</li>
<li>
<p>
Made failure to create files (typically due to bad directory permissions) in
  the cache directory fatal. Previously, such failures were silently and
  erroneously flagged as “compiler produced stdout”.
</p>
</li>
<li>
<p>
Both the <code>-specs=file</code> and <code>--specs=file</code> forms are now recognized.
</p>
</li>
<li>
<p>
Added recognition and hashing of GCC plugins specified with <code>-fplugin=file</code>.
</p>
</li>
<li>
<p>
<code>CCACHE_COMPILERCHECK</code> now also determines how to hash explicit specs files
  (<code>-specs=file</code>).
</p>
</li>
<li>
<p>
Added <code>CPATH</code>, <code>C_INCLUDE_PATH</code> and similar environment variables to the hash
  to avoid false cache hits when such variables have changed.
</p>
</li>
<li>
<p>
Corrected log message when unify mode is enabled.
</p>
</li>
<li>
<p>
Reverted the GCC bug compatibility introduced in ccache 3.1.5 for <code>-MT</code>/<code>-MQ</code>
  options with concatenated arguments. (The bug is fixed in recent GCC
  versions.)
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_7">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Corrected license header for <code>mdfour.c</code>.
</p>
</li>
<li>
<p>
Improved documentation on how to fix bad object files in the cache.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_6">ccache 3.1.6</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2011-08-21</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_12">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Rewrite argument to <code>--sysroot</code> if <code>CCACHE_BASEDIR</code> is used.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_41">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Don’t crash if <code>getcwd()</code> fails.
</p>
</li>
<li>
<p>
Fixed alignment of “called for preprocessing” counter.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_5">ccache 3.1.5</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2011-05-29</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_13">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Added a new statistics counter named “called for preprocessing”.
</p>
</li>
<li>
<p>
The original command line is now logged to the file specified with
  <code>CCACHE_LOGFILE</code>.
</p>
</li>
<li>
<p>
Improved error logging when system calls fail.
</p>
</li>
<li>
<p>
Added support for rewriting absolute paths in <code>-F</code>/<code>-iframework</code> GCC
  options.
</p>
</li>
<li>
<p>
Improved order of statistics counters in <code>ccache -s</code> output.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_42">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The <code>-MF</code>/<code>-MT</code>/<code>-MQ</code> options with concatenated argument are now handled
  correctly when they are last on the command line.
</p>
</li>
<li>
<p>
ccache is now bug compatible with GCC for the <code>-MT</code>/<code>-MQ</code> options with
  concatenated arguments.
</p>
</li>
<li>
<p>
Fixed a minor memory leak.
</p>
</li>
<li>
<p>
Systems that lack (and don’t need to be linked with) libm are now supported.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_4">ccache 3.1.4</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2011-01-09</p></div>
<div class="sect2">
<h3 id="_bug_fixes_43">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Made a work-around for a bug in <code>gzputc()</code> in zlib 1.2.5.
</p>
</li>
<li>
<p>
Corrupt manifest files are now removed so that they won’t block direct mode
  hits.
</p>
</li>
<li>
<p>
ccache now copes with file systems that don’t know about symbolic links.
</p>
</li>
<li>
<p>
The file handle in now correctly closed on write error when trying to create
  a cache dir tag.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_3">ccache 3.1.3</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2010-11-28</p></div>
<div class="sect2">
<h3 id="_bug_fixes_44">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The -MFarg, -MTarg and -MQarg compiler options (i.e, without space between
  option and argument) are now handled correctly.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_8">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Portability fixes for HP-UX 11.00 and other esoteric systems.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_2">ccache 3.1.2</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2010-11-21</p></div>
<div class="sect2">
<h3 id="_bug_fixes_45">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Bail out on too hard compiler options <code>-fdump-*</code>.
</p>
</li>
<li>
<p>
NULL return values from malloc/calloc of zero bytes are now handled
  correctly.
</p>
</li>
<li>
<p>
Fixed issue when parsing precompiler output on AIX.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_9">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Improved documentation on which information is included in the hash sum.
</p>
</li>
<li>
<p>
Made the “too new header file” test case work on file systems with
  unsynchronized clocks.
</p>
</li>
<li>
<p>
The test suite now also works on systems that lack a /dev/zero.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1_1">ccache 3.1.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2010-11-07</p></div>
<div class="sect2">
<h3 id="_bug_fixes_46">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
ccache now falls back to preprocessor mode when a non-regular include file
  (device, socket, etc) has been detected so that potential hanging due to
  blocking reads is avoided.
</p>
</li>
<li>
<p>
CRC errors are now detected when decompressing compressed files in the cache.
</p>
</li>
<li>
<p>
Fixed potential object file corruption race on NFS.
</p>
</li>
<li>
<p>
Minor documentation corrections.
</p>
</li>
<li>
<p>
Fixed configure detection of ar.
</p>
</li>
<li>
<p>
ccache development version (set by dev.mk) now works with gits whose
  <code>describe</code> command doesn’t understand <code>--dirty</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_10">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Minor debug log message improvements.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_1">ccache 3.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2010-09-16</p></div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_14">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
Added support for hashing the output of a custom command (e.g. <code>%compiler%
  --version</code>) to identify the compiler instead of stat-ing or hashing the
  compiler binary. This can improve robustness when the compiler (as seen by
  ccache) actually isn’t the real compiler but another compiler wrapper.
</p>
</li>
<li>
<p>
Added support for caching compilations that use precompiled headers. (See the
  manual for important instructions regarding this.)
</p>
</li>
<li>
<p>
Locking of the files containing statistics counters is now done using
  symlinks instead of POSIX locks. This should make ccache behave a lot better
  on file systems where POSIX locks are slow or broken (e.g. NFS on some
  systems).
</p>
</li>
<li>
<p>
Manifest files are now updated without the need of taking locks.
</p>
</li>
<li>
<p>
Updates of statistics counters are now always done in one of the sub-level
  statistics files. This reduces lock contention, which especially improves
  performance on slow NFS mounts.
</p>
</li>
<li>
<p>
Reading and writing of statistics counters has been made forward-compatible
  (unknown counters are retained).
</p>
</li>
<li>
<p>
Files are now read without using <code>mmap()</code>. This has two benefits: it’s more
  robust against file changes during reading and it improves performance on
  poor systems where <code>mmap()</code> doesn’t use the disk cache.
</p>
</li>
<li>
<p>
Added <code>.cp</code> and <code>.CP</code> as known C++ suffixes.
</p>
</li>
<li>
<p>
Improved logging.
</p>
</li>
<li>
<p>
Added <code>-install_name</code> as an option known to take an argument. (This improves
  statistics when using the Darwin linker.)
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_47">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Non-fatal error messages are now never printed to stderr but logged instead.
</p>
</li>
<li>
<p>
Fixed a bug affecting failing commands when <code>--ccache-skip</code> is used.
</p>
</li>
<li>
<p>
Made <code>--ccache-skip</code> work for all options.
</p>
</li>
<li>
<p>
EINTR is now handled correctly.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_other_11">Other</h3>
<div class="ulist"><ul>
<li>
<p>
Work on porting ccache to win32 (native), mostly done by Ramiro Polla. The
  port is not yet finished, but will hopefully be complete in some subsequent
  release.
</p>
</li>
<li>
<p>
Added a <code>--nostats</code> flag to the performance benchmark program.
</p>
</li>
<li>
<p>
Made the performance benchmark program more accurate when measuring cache
  hits.
</p>
</li>
<li>
<p>
Added a new test framework for unit tests written in C.
</p>
</li>
<li>
<p>
Got rid of <code>configure-dev</code>; dev mode is now given by <code>dev.mk.in</code> presence.
</p>
</li>
<li>
<p>
Improved documentation on how to combine ccache with other compiler wrappers
  (like <code>distcc</code>).
</p>
</li>
<li>
<p>
New <code>LICENSE.txt</code> file with licensing and copyright details about bundled
  source code.
</p>
</li>
<li>
<p>
New <code>AUTHORS.txt</code> file with a list of ccache contributors.
</p>
</li>
<li>
<p>
New <code>HACKING.txt</code> file with some notes about ccache code conventions.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_0_1">ccache 3.0.1</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2010-07-15</p></div>
<div class="sect2">
<h3 id="_bug_fixes_48">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
The statistics counter “called for link” is now correctly updated when
  linking with a single object file.
</p>
</li>
<li>
<p>
Fixed a problem with out-of-source builds.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ccache_3_0">ccache 3.0</h2>
<div class="sectionbody">
<div class="paragraph"><p>Release date: 2010-06-20</p></div>
<div class="sect2">
<h3 id="_general">General</h3>
<div class="ulist"><ul>
<li>
<p>
ccache is now licensed under the GNU General Public License (GPL) version 3
  or later.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_upgrade_notes">Upgrade notes</h3>
<div class="ulist"><ul>
<li>
<p>
The way the hashes are calculated has changed, so you won’t get cache hits
  for compilation results stored by older ccache versions. Because of this, you
  might as well clear the old cache directory with <code>ccache --clear</code> if you
  want, unless you plan to keep using an older ccache version.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_new_features_and_enhancements_15">New features and enhancements</h3>
<div class="ulist"><ul>
<li>
<p>
ccache now has a “direct mode” where it computes a hash of the source code
  (including all included files) and compiler options without running the
  preprocessor. By not running the preprocessor, CPU usage is reduced; the
  speed is somewhere between 1 and 5 times that of ccache running in
  traditional mode, depending on the circumstances. The speedup will be higher
  when I/O is fast (e.g., when files are in the disk cache). The direct mode
  can be disabled by setting <code>CCACHE_NODIRECT</code>.
</p>
</li>
<li>
<p>
Support has been added for rewriting absolute paths to relative paths when
  hashing, in order to increase cache hit rate when building the same source
  code in different directories even when compiling with <code>-g</code> and when using
  absolute include directory paths. This is done by setting the
  <code>CCACHE_BASEDIR</code> environment variable to an absolute path that specifies
  which paths to rewrite.
</p>
</li>
<li>
<p>
Object files are now optionally stored compressed in the cache. The runtime
  cost is negligible, and more files will fit in the ccache directory and in
  the disk cache. Set <code>CCACHE_COMPRESS</code> to enable object file compression. Note
  that you can’t use compression in combination with the hard link feature.
</p>
</li>
<li>
<p>
A <code>CCACHE_COMPILERCHECK</code> option has been added. This option tells ccache what
  compiler-identifying information to hash to ensure that results retrieved
  from the cache are accurate. Possible values are: none (don’t hash anything),
  mtime (hash the compiler’s mtime and size) and content (hash the content of
  the compiler binary). The default is mtime.
</p>
</li>
<li>
<p>
It is now possible to specify extra files whose contents should be included
  in the hash sum by setting the <code>CCACHE_EXTRAFILES</code> option.
</p>
</li>
<li>
<p>
Added support for Objective-C and Objective-C++. The statistics counter
  “not a C/C++ file” has been renamed to “unsupported source language”.
</p>
</li>
<li>
<p>
Added support for the <code>-x</code> compiler option.
</p>
</li>
<li>
<p>
Added support for long command-line options.
</p>
</li>
<li>
<p>
A <code>CACHEDIR.TAG</code> file is now created in the cache directory. See
  <a href="http://www.brynosaurus.com/cachedir/">http://www.brynosaurus.com/cachedir/</a>.
</p>
</li>
<li>
<p>
Messages printed to the debug log (specified by <code>CCACHE_LOGFILE</code>) have been
  improved.
</p>
</li>
<li>
<p>
You can relax some checks that ccache does in direct mode by setting
  <code>CCACHE_SLOPPINESS</code>. See the manual for more information.
</p>
</li>
<li>
<p>
<code>CCACHE_TEMPDIR</code> no longer needs to be on the same filesystem as
  <code>CCACHE_DIR</code>.
</p>
</li>
<li>
<p>
The default value of <code>CCACHE_TEMPDIR</code> has been changed to <code>$CCACHE_DIR/tmp</code>
  to avoid cluttering the top directory.
</p>
</li>
<li>
<p>
Temporary files that later will be moved into the cache are now created in
  the cache directory they will end up in. This makes ccache more friendly to
  Linux’s directory layout.
</p>
</li>
<li>
<p>
Improved the test suite and added tests for most of the new functionality.
  It’s now also possible to specify a subset of tests to run.
</p>
</li>
<li>
<p>
Standard error output from the compiler is now only stored in the cache if
  it’s non-empty.
</p>
</li>
<li>
<p>
If the compiler produces no object file or an empty object file, but gives a
  zero exit status (could be due to a file system problem, a buggy program
  specified by <code>CCACHE_PREFIX</code>, etc.), ccache copes with it properly.
</p>
</li>
<li>
<p>
Added <code>installcheck</code> and <code>distcheck</code> make targets.
</p>
</li>
<li>
<p>
Clarified cache size limit options’ and cleanup semantics.
</p>
</li>
<li>
<p>
Improved display of cache max size values.
</p>
</li>
<li>
<p>
The following options are no longer hashed in the preprocessor mode:
  <code>-imacros</code>, <code>-imultilib</code>, <code>-iprefix</code>, <code>-iquote</code>, <code>-isysroot</code>, <code>-iwithprefix</code>,
  <code>-iwithprefixbefore</code>, <code>-nostdinc</code>, <code>-nostdinc++</code> and <code>-U</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_bug_fixes_49">Bug fixes</h3>
<div class="ulist"><ul>
<li>
<p>
Various portability improvements.
</p>
</li>
<li>
<p>
Improved detection of home directory.
</p>
</li>
<li>
<p>
User-defined <code>CPPFLAGS</code> and <code>LDFLAGS</code> are now respected in the Makefile.
</p>
</li>
<li>
<p>
Fixed NFS issues.
</p>
</li>
<li>
<p>
Computation of the hash sum has been improved to decrease the risk of hash
  collisions. For instance, the compiler options <code>-X -Y</code> and <code>-X-Y</code> previously
  contributed equally to the hash sum.
</p>
</li>
<li>
<p>
Bail out on too hard compiler options <code>--coverage</code>, <code>-fprofile-arcs</code>,
  <code>-fprofile-generate</code>, <code>-fprofile-use</code>, <code>-frepo</code>, <code>-ftest-coverage</code> and
  <code>-save-temps</code>. Also bail out on <code>@file</code> style options.
</p>
</li>
<li>
<p>
Errors when using multiple <code>-arch</code> compiler options are now noted as
  “unsupported compiler option”.
</p>
</li>
<li>
<p>
<code>-MD</code>/<code>-MMD</code> options without <code>-MT</code>/<code>-MF</code> are now handled correctly.
</p>
</li>
<li>
<p>
The <code>-finput-charset</code> option is now handled correctly.
</p>
</li>
<li>
<p>
Added support for <code>-Wp,-MD</code> and <code>-Wp,-MMD</code> options.
</p>
</li>
<li>
<p>
The compiler options <code>-Xassembler</code>, <code>-b</code>, <code>-G</code> and <code>-V</code> are now correctly
  recognized as taking an argument.
</p>
</li>
<li>
<p>
Debug information containing line numbers of predefined and command-line
  macros (enabled with the compiler option <code>-g3</code>) will now be correct.
</p>
</li>
<li>
<p>
Corrected LRU cleanup handling of object files.
</p>
</li>
<li>
<p>
<code>utimes()</code> is now used instead of <code>utime()</code> when available.
</p>
</li>
<li>
<p>
Non-writable cache directories are now handled gracefully.
</p>
</li>
<li>
<p>
Corrected documentation about sharing the cache directory.
</p>
</li>
<li>
<p>
Fixed compilation warnings from GCC 4.3.
</p>
</li>
<li>
<p>
The command specified by <code>CCACHE_PREFIX</code> is no longer part of the hash.
</p>
</li>
<li>
<p>
Fixed bad memory access spotted by Valgrind.
</p>
</li>
<li>
<p>
Fixed a bug in <code>x_realloc</code>.
</p>
</li>
<li>
<p>
Freed memory is no longer referenced when compiling a <code>.i</code>/<code>.ii</code> file and
  falling back to running the real compiler.
</p>
</li>
<li>
<p>
The test suite is now immune to external values of the <code>CCACHE_*</code> environment
  variables.
</p>
</li>
<li>
<p>
Improved detection of recursive invocation.
</p>
</li>
<li>
<p>
The ccache binary is now not unconditionally stripped when installing.
</p>
</li>
<li>
<p>
Statistics counters are now correctly updated for -E option failures and
  internal errors.
</p>
</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 4.2.1<br />
Last updated
 2021-03-27 19:47:58 CET
</div>
</div>
</body>
</html>
